
<html>
<head>
    <title>Mesosphere - Exercise 6: Marathon REST API</title>
    <meta name="title" content ="Mesosphere Documentation Intro Course">

    <meta name="description" content="Mesos allows you to create a highly-available and scalable cluster on your existing hardware.">

    <meta name="keywords" content="mesos, mesosphere, apache mesos, cluster, mesos cluster, apache mesos, mesos tutorial, ETL, long-running services, service automation, distributed kernel, apache marathon, marathon tutorial, chronos tutorial, spark tutorial">
    <meta name="googlebot" content="all" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/css/bootstrap.min.css"
          rel="stylesheet">
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.min.css"
          rel="stylesheet">
    <link rel="stylesheet" href="/assets/mesosphere-bb1dd6431996c0a6e479673c87a06efc.css">
    <link rel="alternate" type="application/atom+xml" title="The Mesosphere Blog" href="/blog/atom.xml">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/apple-touch-icon-114x114-precomposed-866a1e471ec7ca6bd71446ca972285c6.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/apple-touch-icon-72x72-precomposed-4a308d281d978c5a39fd1893ca051959.png">
    <link rel="apple-touch-icon-precomposed" href="/assets/apple-touch-icon-57x57-precomposed-d7a5a878dcc95e57717cc774eeac8c22.png">

    <link rel="stylesheet" href="style.css">
    <script src="//cdn.optimizely.com/js/2009520669.js"></script>
    <script>
        window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
                window.analytics.load("7sgtwqvuai");
        window.analytics.page();
    </script>

</head>
<body>

<div class="navbar navbar-default  " role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>


            <a class="navbar-brand" href="http://mesosphere.com/">


                <img src="http://dw8zztroqvu2r.cloudfront.net/assets/mesosphere-165b872607f4d76434d9b1cfb41a6280.png" width="148" height="25" alt="Mesosphere">


            </a>
        </div>
        <div class="collapse navbar-collapse">
        </div>
    </div>
</div>

<div class="body-light">
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <div role="complementary">
                    <gcse:searchbox-only></gcse:searchbox-only>
                    <ul class="nav docs-sidenav">
                        <li><a class="reference external" href="intro.html">Introduction</a></li>
                        <li><a class="reference external" href="ex1.html">01: Installing Software</a></li>
                        <li><a class="reference external" href="ex2.html">02: Installing ZooKeeper</a></li>
                        <li><a class="reference external" href="ex3.html">03: Using Apache Mesos</a></li>
                        <li><a class="reference external" href="ex4.html">04: Starting Marathon</a></li>
                        <li><a class="reference external" href="ex5.html">05: Using the Marathon GUI</a></li>
                        <li><a class="reference external" href="ex6.html">06: Marathon REST API</a></li>
                        <li><a class="reference external" href="ex7.html">07: Building and Running Mesos DNS</a></li>
                        <li><a class="reference external" href="ex8.html">08: Installing Chronos</a></li>
                        <li><a class="reference external" href="ex9.html">09: Creating A Slave Node</a></li>
                        <li><a class="reference external" href="ex10.html">10: Installing Mesos</a></li>
                        <li><a class="reference external" href="ex11.html">11: Scaling To Two Nodes</a></li>
                        <li><a class="reference external" href="ex12.html">12: Deploying A Web App With Docker</a></li>
                        <li><a class="reference external" href="ex13.html">13: Distributing Docker To Multiple Nodes</a></li>
                        <li><a class="reference external" href="ex14.html">14: Installing and Using Mesos CLI</a></li>
                        <li><a class="reference external" href="ex15.html">15: Starting Four Nodes</a></li>
                        <li><a class="reference external" href="ex16.html">16: Recreating the Cluster Using Ansible</a></li>
                        <li><a class="reference external" href="ex17.html">17: Advanced Usage of the Marathon</a></li>
                        <li><a class="reference external" href="ex18.html">18: Advanced Usage of Chronos</a></li>
                        <li><a class="reference external" href="ex19.html">19: Troubleshooting</a></li>
                        <li><a class="reference external" href="ex20.html">20: Advanced Cluster Building</a></li>
                    </ul>
                </div>

            </div>
            <div class="col-md-8">

                <!--- RST STARTS -->
                <h1 class="title">Exercise 6: Marathon REST API</h1>
                <p>The GUI is the primary way to work with Marathon, but it's also good to
understand the underlying REST interface for Marathon.  This exercise will show
you advanced tricks you can do right from the command line using the Marathon
REST API.  You don't need to know any programming languages to complete this
exercise, just a basic understanding of the <tt class="docutils literal">curl</tt> command line HTTP tool.</p>
<p>In this exercise you'll see how these REST calls map to the Marathon GUI and the Marathon
command line tool.</p>
<div class="section" id="video-lecture">
<h1>Video Lecture</h1>
<style>.smart-player-embed-container-iframe{width:768px;height:576px}.smart-player-full-frame-mode{position:absolute;top:0;left:0;z-index:10;width:100%;height:100%;padding:0;margin:0}</style>
<div class="video-lecture-container">
        <iframe class="smart-player-embed-container-iframe" id="embeddedSmartPlayerInstance" src="https://s3-us-west-2.amazonaws.com/docs-staging.mesosphere.com/Videos/Mesos-Intro-Lecture-6/media/index_player.html?embedIFrameId=embeddedSmartPlayerInstance" scrolling="no"  frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
    </div>
<script src="media/scripts/embedded-smart-player.min.js"></script></div>
<div class="section" id="quick-reference">
<h1>Quick Reference</h1>
<p>The Marathon REST API is documented at <a class="reference external" href="http://mesosphere.github.io/marathon/docs/rest-api.html">http://mesosphere.github.io/marathon/docs/rest-api.html</a> and to demonstrate it you do the following:</p>
<div class="highlight"><pre><a name="code--ex6--api_tests.sh-session-jinja-idio.html-1"></a><span class="gp">#</span> get metrics on the running apps
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-2"></a><span class="gp">$</span> curl http://0.0.0.0:8080/metrics <span class="p">|</span> python -m json.tool <span class="p">|</span> less
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-3"></a>
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-4"></a><span class="gp">#</span> look at the apps you have installed
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-5"></a><span class="gp">$</span> curl http://0.0.0.0:8080/v2/apps <span class="p">|</span> python -m json.tool
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-6"></a>
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-7"></a><span class="gp">#</span> look at a specific app, named <span class="nb">test </span>from Ex4 and Ex5
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-8"></a><span class="gp">$</span> curl http://0.0.0.0:8080/v2/apps/test <span class="p">|</span> python -m json.tool
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-9"></a>
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-10"></a><span class="gp">#</span> delete that app
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-11"></a><span class="gp">$</span> curl -X DELETE http://0.0.0.0:8080/v2/apps/test <span class="p">|</span> python -m json.tool
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-12"></a>
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-13"></a><span class="gp">#</span> show that the app is gone
<a name="code--ex6--api_tests.sh-session-jinja-idio.html-14"></a><span class="gp">$</span> curl http://0.0.0.0:8080/v2/apps/test <span class="p">|</span> python -m json.tool
</pre></div><p>Confirm that these commands cause changes in the Marathon GUI as you run them.  After that bring back the <tt class="docutils literal">python</tt> test application using either the GUI, or for extra point, the API and <tt class="docutils literal">curl</tt>.</p>
</div>
<div class="section" id="further-study">
<h1>Further Study</h1>
<ul class="simple">
<li>Do the inverse of this video and make changes in the Marathon GUI which are shown in the REST API.</li>
<li>Use the REST API, <tt class="docutils literal">curl</tt> and your text editor to <tt class="docutils literal">DELETE</tt> and redeploy your application from the command line only.</li>
</ul>
</div>
                <!-- RST ENDS -->

                <h2 id="comments"></h2>
                <p></p>
                <div id="disqus_thread"></div>

                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


            </div>

        </div>

        <script type="text/javascript">
            !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
                analytics.load("jb9aik674n");
                analytics.page()
            }}();
        </script>
    </div>
    <footer class=" ">
        <div class="container">
            <p align="center"><span class="text-muted"><a href="/support/" target="_blank">Support and feedback</a> | <a href="https://mesosphere.com/terms/" target="_blank">Terms of service</a> | <a href="https://mesosphere.com/privacy/" target="_blank">Privacy Policy</a> </span>
            <p align="center"><span class="text-muted">&copy; 2015 Mesosphere, Inc. All Rights Reserved.</span>
                <!-- div class="row">
                    <div class="col-sm-3">
                        <ul class="list-unstyled">
                            <li><a href="http://mesosphere.com/team/">Team</a>
                            <li><a href="http://mesosphere.com/news-events/">News &amp; Events</a></li>
                            <li><a href="http://mesosphere.com/jobs/">Careers</a>
                        </ul>
                    </div>
                    <div class="col-sm-3">
                        <ul class="list-unstyled">
                            <li><a href="http://mesosphere.com/resources/case-studies/">Case Studies</a>
                            <li><a href="http://mesosphere.com/resources/research/">Research</a>
                        </ul>
                    </div>
                    <div class="col-sm-3">
                        <ul class="list-unstyled">
                            <li><a href="https://twitter.com/mesosphere">@mesosphere</a>
                            <li><span class="text-muted">&copy; 2015 Mesosphere, Inc.</span>
                        </ul>
                    </div>
                </div -->
        </div>
    </footer>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/zeroclipboard/1.3.2/ZeroClipboard.min.js"></script>

</body>

</html>

